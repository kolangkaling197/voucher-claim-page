<!DOCTYPE html>
<html lang="id">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Klaim Kode Bebas Iklan</title>
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #f4f4f9;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 400px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .form-group {
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  }
Â  Â  Â  Â  label {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â  input[type="text"] {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }
Â  Â  Â  Â  button {
Â  Â  Â  Â  Â  Â  background-color: #007bff;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }
Â  Â  Â  Â  button:hover {
Â  Â  Â  Â  Â  Â  background-color: #0056b3;
Â  Â  Â  Â  }
Â  Â  Â  Â  #message {
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

<div class="container">
Â  Â  <h1>ğŸ‰ Event Klaim Kode!</h1>
Â  Â  <p>Masukkan kode voucher dan ID perangkat Anda untuk menghilangkan iklan.</p>

Â  Â  <form id="claimForm">
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label for="voucherCode">Kode Voucher/Random:</label>
Â  Â  Â  Â  Â  Â  <input type="text" id="voucherCode" name="voucherCode" required placeholder="Contoh: A7FKP92J">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="form-group">
Â  Â  Â  Â  Â  Â  <label for="deviceId">ID Perangkat (Device ID):</label>
Â  Â  Â  Â  Â  Â  <input type="text" id="deviceId" name="deviceId" required placeholder="ID harus sesuai di aplikasi TV">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button type="submit">Klaim Sekarang</button>
Â  Â  </form>

Â  Â  <p id="message"></p>
</div>

<script>
Â  Â  document.getElementById('claimForm').addEventListener('submit', async function(e) {
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  const form = e.target;
Â  Â  Â  Â  const messageElement = document.getElementById('message');
Â  Â  Â  Â Â 
Â  Â  Â  Â  // TELAH DIEDIT: Mengarahkan ke URL Worker Anda + endpoint /klaim-voucher
Â  Â  Â  Â  const workerUrl = 'https://asique.asique121212.workers.dev/klaim-voucher';Â 

Â  Â  Â  Â  messageElement.textContent = 'â³ Memproses klaim...';
Â  Â  Â  Â  messageElement.style.color = '#007bff'; // Warna biru saat loading

Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const response = await fetch(workerUrl, {
Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  // Menggunakan FormData untuk mengirim data form
Â  Â  Â  Â  Â  Â  Â  Â  body: new FormData(form),Â 
Â  Â  Â  Â  Â  Â  });

            // Pastikan respon adalah JSON
            const result = await response.json();

Â  Â  Â  Â  Â  Â  if (result.success) {
Â  Â  Â  Â  Â  Â  Â  Â  messageElement.style.color = 'green';
Â  Â  Â  Â  Â  Â  Â  Â  messageElement.textContent = result.message;
Â  Â  Â  Â  Â  Â  Â  Â  form.reset(); // Kosongkan form setelah sukses
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  messageElement.style.color = 'red';
Â  Â  Â  Â  Â  Â  Â  Â  messageElement.textContent = `Gagal: ${result.message}`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error('Error selama pengiriman klaim:', error);
Â  Â  Â  Â  Â  Â  messageElement.style.color = 'red';
Â  Â  Â  Â  Â  Â  messageElement.textContent = 'Terjadi kesalahan koneksi. Pastikan ID dan Kode sudah benar dan coba lagi.';
Â  Â  Â  Â  }
Â  Â  });
</script>

</body>
</html>
